{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport ListItem from \"../components/ListItem\";\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport EditServicio from \"./EditServicio\";\nexport default function (_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      cargando = _useState2[0],\n      setCargando = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      servicios = _useState4[0],\n      setServicios = _useState4[1];\n\n  var fetchUser = function fetchUser() {\n    var response, data;\n    return _regeneratorRuntime.async(function fetchUser$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(fetch('https://www.sit-zac.org.mx/servicios_tribunalApp'));\n\n          case 2:\n            response = _context.sent;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 5:\n            data = _context.sent;\n            setServicios(data.servicios);\n            setCargando(false);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  function deleteService(id) {\n    var response, data;\n    return _regeneratorRuntime.async(function deleteService$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(fetch('https://www.sit-zac.org.mx/delete_servicio/' + id));\n\n          case 2:\n            response = _context2.sent;\n            _context2.next = 5;\n            return _regeneratorRuntime.awrap(response.json());\n\n          case 5:\n            data = _context2.sent;\n            console.log(data);\n            fetchUser();\n            setCargando(false);\n            alert('El servicio se ha eliminado correctamente');\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    fetch('https://www.sit-zac.org.mx/servicios_tribunalApp').then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      setServicios(data.servicios);\n      setCargando(false);\n    });\n  }, [servicios]);\n  return React.createElement(View, {\n    style: styles.compo\n  }, cargando ? React.createElement(View, null, React.createElement(Text, null, \"Cargando...\"), React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"#000fff\"\n  })) : React.createElement(FlatList, {\n    style: styles.lista,\n    data: servicios,\n    keyExtractor: function keyExtractor(x) {\n      return x.id;\n    },\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(View, {\n        style: styles.componente\n      }, React.createElement(Text, {\n        style: styles.item\n      }, item.nombre), React.createElement(TouchableHighlight, {\n        style: styles.button,\n        onPress: function onPress() {\n          return navigation.navigate('EditServicio', {\n            id_: item.id,\n            nombre_: item.nombre,\n            descripcion_: item.descripcion\n          });\n        }\n      }, React.createElement(View, {\n        style: styles.icon\n      }, React.createElement(Ionicons, {\n        name: \"pencil-outline\"\n      }), React.createElement(Text, null, \"Editar\"))), React.createElement(TouchableHighlight, {\n        style: styles.button2,\n        onPress: function onPress() {\n          return deleteService(item.id);\n        }\n      }, React.createElement(View, {\n        style: styles.icon\n      }, React.createElement(Ionicons, {\n        name: \"trash\"\n      }), React.createElement(Text, null, \"Eliminar\"))));\n    }\n  }));\n}\nvar styles = StyleSheet.create({\n  lista: {\n    alignSelf: 'stretch'\n  },\n  compo: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: '#cdcd',\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc',\n    color: 'black'\n  },\n  componente: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n    borderBottomWidth: 1,\n    borderBottomColor: '#ccc',\n    padding: 1\n  },\n  icon: {\n    flex: 1,\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 20\n  },\n  item: {\n    marginLeft: 40,\n    marginRight: 40,\n    padding: 20,\n    fontSize: 18,\n    color: 'black'\n  },\n  button: {\n    marginRight: 40,\n    marginLeft: 40,\n    marginTop: 10,\n    paddingTop: 20,\n    paddingBottom: 20,\n    backgroundColor: '#68a0cf',\n    borderRadius: 30,\n    borderWidth: 1,\n    borderColor: '#fff'\n  },\n  button2: {\n    marginRight: 40,\n    marginLeft: 40,\n    marginTop: 10,\n    paddingTop: 20,\n    paddingBottom: 20,\n    backgroundColor: '#FFA7A7',\n    borderRadius: 50,\n    borderWidth: 1,\n    borderColor: '#fff'\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Documents/MAESTRIA EN SISTEMAS/3 SEMESTRE/DISPOSITIVOS MOVILES/APP/Proyecto2/appGeolocal/screens/Servicios.js"],"names":["React","useState","useEffect","ListItem","Ionicons","EditServicio","navigation","cargando","setCargando","servicios","setServicios","fetchUser","fetch","response","json","data","deleteService","id","console","log","alert","then","res","styles","compo","lista","x","item","componente","nombre","button","navigate","id_","nombre_","descripcion_","descripcion","icon","button2","StyleSheet","create","alignSelf","flex","alignItems","justifyContent","backgroundColor","borderBottomWidth","borderBottomColor","color","flexDirection","padding","paddingHorizontal","marginLeft","marginRight","fontSize","marginTop","paddingTop","paddingBottom","borderRadius","borderWidth","borderColor"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, Text, StyleSheet, Button, ActivityIndicator, FlatList, TouchableHighlight } from 'react-native';\r\nimport ListItem from '../components/ListItem';\r\nimport Ionicons from 'react-native-vector-icons/Ionicons';\r\nimport EditServicio from './EditServicio';\r\n\r\n\r\nexport default function ({ navigation }) {\r\n    const [cargando, setCargando] = useState(true)\r\n    const [servicios, setServicios] = useState([])\r\n\r\n    const fetchUser = async () => {\r\n        const response = await fetch('https://www.sit-zac.org.mx/servicios_tribunalApp')\r\n        const data = await response.json()\r\n        //console.log(data.servicios);\r\n        setServicios(data.servicios)\r\n        setCargando(false)\r\n    }\r\n\r\n    async function deleteService(id) {\r\n        const response = await fetch('https://www.sit-zac.org.mx/delete_servicio/'+id)\r\n        const data = await response.json()\r\n        console.log(data);\r\n        fetchUser();\r\n        setCargando(false)\r\n        alert('El servicio se ha eliminado correctamente');\r\n        //return json_;\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetch('https://www.sit-zac.org.mx/servicios_tribunalApp')\r\n          .then(res => res.json())\r\n          .then(data => {\r\n             // console.log(data.servicios);\r\n            setServicios(data.servicios)\r\n            setCargando(false)\r\n          })\r\n      },[servicios])\r\n\r\n\r\n/*\r\n    useEffect(async () => {\r\n        alert('hola');\r\n        const items = await  fetchUser()\r\n    }, [])\r\n    */\r\n\r\n\r\n\r\n    return (\r\n\r\n        <View style={styles.compo}>\r\n            {cargando ? <View>\r\n                <Text>Cargando...</Text>\r\n                <ActivityIndicator size='large' color='#000fff'></ActivityIndicator>\r\n            </View> :\r\n                <FlatList\r\n                    style={styles.lista}\r\n                    data={servicios}\r\n                    keyExtractor={x => x.id}\r\n                    renderItem={({ item }) =>\r\n                        <View style={styles.componente}>\r\n                            <Text style={styles.item}>{item.nombre}</Text>\r\n                            <TouchableHighlight style={styles.button} onPress={() =>navigation.navigate('EditServicio',{id_: item.id, nombre_: item.nombre, descripcion_: item.descripcion})}>\r\n                                <View style={styles.icon}>\r\n                                    <Ionicons name='pencil-outline' />\r\n                                    <Text>Editar</Text>\r\n                                </View>\r\n                            </TouchableHighlight>\r\n\r\n                            <TouchableHighlight style={styles.button2}   onPress={() => deleteService( item.id )}>\r\n                                <View  style={styles.icon}>\r\n                                    <Ionicons name='trash' />\r\n                                    <Text>Eliminar</Text>\r\n                                </View>\r\n                            </TouchableHighlight>\r\n                        </View>}\r\n                />\r\n            }\r\n        </View>\r\n    )\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    lista: {\r\n        alignSelf: 'stretch'\r\n\r\n    },\r\n    compo: {\r\n        flex: 1,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: '#cdcd',\r\n        borderBottomWidth: 1,\r\n        borderBottomColor: '#ccc',\r\n        color: 'black',\r\n\r\n    },\r\n    componente:{\r\n        flex: 1,\r\n        flexDirection:'row',\r\n        alignItems:'center',\r\n    justifyContent:'space-around',\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#ccc',\r\npadding:1\r\n\r\n    },\r\n\r\n    icon:{\r\n        flex: 1,\r\n        flexDirection:'row',\r\n        alignItems:'center',\r\n        paddingHorizontal:20\r\n    },\r\n    item: {\r\n        marginLeft: 40,\r\n        marginRight: 40,\r\n        padding: 20,\r\n        fontSize: 18,\r\n        color: 'black',\r\n    },\r\n    button: {\r\n       marginRight: 40,\r\n  marginLeft: 40,\r\n  marginTop: 10,\r\n  paddingTop: 20,\r\n  paddingBottom: 20,\r\n  backgroundColor: '#68a0cf',\r\n  borderRadius: 30,\r\n  borderWidth: 1,\r\n  borderColor: '#fff',\r\n      },\r\n      button2: {\r\n        marginRight: 40,\r\n   marginLeft: 40,\r\n   marginTop: 10,\r\n   paddingTop: 20,\r\n   paddingBottom: 20,\r\n   backgroundColor: '#FFA7A7',\r\n   borderRadius: 50,\r\n   borderWidth: 1,\r\n   borderColor: '#fff',\r\n       },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}